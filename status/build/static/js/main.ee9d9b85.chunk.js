(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){e.exports=n(80)},49:function(e,t,n){},71:function(e,t){},80:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(35),c=n.n(o),l=(n(49),n(36)),i=n(42),s=n(37),m=n(43),u=n(39),d=n.n(u),h=n(40),E=n.n(h),p=n(22),w=n.n(p),f=n(41),_=n.n(f),g=n(38),v=n.n(g),k=n(21),b=n.n(k),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).componentDidMount=function(){return e.state.socket.on("status_report",function(t){return e.setState({response:t,now:b()(),branch_list:t.map(function(e){return e.branch}).filter(function(e,t,n){return String(n.indexOf(e))===String(t)})})})},e.remove_pi=function(t){return e.state.socket.emit("remove_pi",t)},e.remove_pi_error=function(t){return e.state.socket.emit("remove_pi_error",t)},e.render=function(){return a.a.createElement(d.a,null,a.a.createElement(E.a,{className:"text-center"},a.a.createElement("h1",{style:{textAlign:"center"}},"Station Alerter Status"),a.a.createElement("h6",{style:{textAlign:"right"}},"Last updated: \n          ".concat(e.state.now?e.state.now.format("dddd, MMMM Do YYYY")+" at "+e.state.now.format("HH:mm:ss"):"NA")),e.state.response?e.state.branch_list.map(function(t,n){return a.a.createElement("div",{key:n,style:{textAlign:"left",width:"100%"}},a.a.createElement("h3",null,t),a.a.createElement(_.a,{striped:!0,bordered:!0,hover:!0,size:"sm",variant:"dark",style:{fontSize:"85%"}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{width:"15%"},"Status"),a.a.createElement("th",{width:"10%"},"Name"),a.a.createElement("th",{width:"15%"},"Last Ping"),a.a.createElement("th",{width:"5%"},"Version"),a.a.createElement("th",{width:"25%"},"Socket ID"),a.a.createElement("th",{width:"10%"},"# of Alerts"),a.a.createElement("th",{width:"20%"},"Actions"))),a.a.createElement("tbody",null,e.state.response.map(function(n,r){return!0===n.show&&n.branch===t?a.a.createElement("tr",{key:r},a.a.createElement("td",null,a.a.createElement("span",{className:"NA"===n.socket_id?"dot_red":!1!==n.error?"dot_orange":"dot_green"}),"NA"===n.socket_id?"Disconnected":!1!==n.error?"Error":"Connected"),a.a.createElement("td",null,n.name),a.a.createElement("td",null,b()(n.last_ping).fromNow()),a.a.createElement("td",{className:"text-center"},n.version),a.a.createElement("td",null,n.socket_id),a.a.createElement("td",{className:"text-center"},n.alerts.length),a.a.createElement("td",{className:"text-center"},!1!==n.error&&"NA"!==n.socket_id&&a.a.createElement(w.a,{variant:"warning",size:"sm",onClick:function(){return e.remove_pi_error(n._id)},style:{margin:"0px 5px"}},"Clear Error"),(!1!==n.error||"NA"===n.socket_id)&&a.a.createElement(w.a,{variant:"danger",size:"sm",onClick:function(){return e.remove_pi(n._id)},style:{margin:"0px 5px"}},"Remove Device"))):null}))),a.a.createElement("hr",null))}):a.a.createElement("h1",null,a.a.createElement("b",null,"Loading..."))))},e.state={now:null,response:!1,branch_list:[],socket:v()("http://localhost:6723/status")},e}return Object(m.a)(t,e),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.ee9d9b85.chunk.js.map